<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Introduction to Software Engineering | UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1</title>
<meta content="Introduction to Software Engineering | UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1" property="og:title"/>
<meta content="Introduction to Software Engineering | UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1" name="twitter:title"/>
<link href="../_static/pygments.css?v=fa44fd50" rel="stylesheet" type="text/css"/>
<link href="../_static/theme.css?v=ecdfb4fc" rel="stylesheet" type="text/css"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../15-modern-cpp/modern-cpp.html" rel="next" title="Modern C++ as a Better C (and C++)"/>
<link href="../05-parallel/parallel.html" rel="prev" title="Introduction to Parallel Programming"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a>
<header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../index.html"><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../index.html"><span class="font-bold text-clip whitespace-nowrap">UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00-preliminaries/preliminaries.html">About the Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-parallel/parallel.html">Introduction to Parallel Programming</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction to Software Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../15-modern-cpp/modern-cpp.html">Modern C++ as a Better C (and C++)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../18-dpcpp/dpcpp.html">Data-Parallel C++ with oneAPI/SYCL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../20-quant-finance/qfi.html">Quantitative Finance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../30-performance/performance.html">Performance Essentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../80-running/running.html">Compiling and Running oneAPI programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../90-contributions/contributions.html">Contribution Guildelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../91-coc/code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../99-chapter-template/chapter-title.html">Chapter Title</a></li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../index.html">
<span class="hidden md:inline">UnoAPI: Modern Parallel C++ Programming with SYCL and oneAPI v0.5.1</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">Introduction to Software Engineering</span>
</nav>
<div id="content" role="main">
<section id="introduction-to-software-engineering">
<h1>Introduction to Software Engineering<a class="headerlink" href="#introduction-to-software-engineering" title="Link to this heading">¶</a></h1>
<p>Software engineering (SE) is and remains vital to success as a professional software developer / research software engineer.
While SE principles evoke a wide range of responses, it is possible to embrace many princples from software engineering and ensure impact on your projects without distracting you (entirely) from your day-to-day work. We encourage readers to consult the article <a class="reference external" href="https://ecommons.luc.edu/cs_facpubs/75">Software Engineering Need Not Be Difficult</a> to see how you can apply some of these principles to your work.</p>
<p>We maintain that there are many software engineering principles that matter in day-to-day life among professional programmers. Here are some of the key ones:</p>
<ul class="simple">
<li><p><strong>Agile and iterative development</strong>: Adopting an agile and iterative development methodology can help teams quickly respond to changing requirements, customer needs, and market trends, while minimizing risks and maximizing value. This includes using techniques such as user stories, sprints, retrospectives, and continuous improvement.</p></li>
<li><p><strong>Code quality and maintainability</strong>: Writing code that is easy to understand, modify, and extend is essential for the long-term success of any software project. This includes using consistent coding style and conventions, writing clean and concise code, and applying best practices such as modularization, encapsulation, and abstraction.</p></li>
<li><p><strong>Testing and quality assurance</strong>: Ensuring that the software meets the expected quality and functionality requirements is critical to avoiding bugs and defects that can cause system failures, data loss, or security breaches. This includes developing automated tests, performing manual tests, and applying quality assurance processes such as code reviews, continuous integration, and continuous delivery.</p></li>
<li><p><strong>Documentation and knowledge sharing</strong>: Documenting the code, architecture, design decisions, and project requirements is essential for enabling effective communication, collaboration, and knowledge sharing among team members and stakeholders. This includes writing clear and concise comments, documentation, and user manuals, and applying knowledge management processes such as code reviews, wikis, and project wikis. We intend for <a class="reference internal" href="../00-preliminaries/preliminaries.html"><span class="doc">this book itself</span></a> to exemplify this practice, along with several other principles included in this chapter.</p></li>
<li><p><strong>Version control and collaboration</strong>: Using a version control system and collaborating effectively with team members and external contributors is essential for managing code changes, resolving conflicts, and ensuring that the project progresses smoothly. This includes using a distributed version control system such as Git, following good branching and merging practices, and using collaboration tools such as pull requests, issue trackers, and chat applications.</p></li>
<li><p><strong>Build and Configuration Management</strong>: Build and configuration management tools have long been a key part of the software engineer’s toolbox. These tools, such as the UNIX <cite>make</cite> command, support consistently and efficiently rebuilding a project after a change in one or more source files. In addition, more modern tools such as <cite>cmake</cite> and Apache Maven, add support for automatic, declarative management of external dependencies.</p></li>
<li><p><strong>Continuous Integration</strong>: Continuous Integration (CI) refers to the practice of continuously merging code changes, typically from multiple contributors, into a shared repository. Instead of waiting for days or weeks to integrate code from different team members, with CI, changes are integrated frequently, often multiple times a day. Concretely, this approach involves automated builds and testing, along with immediate feedback if there is a problem.</p></li>
<li><p><strong>Rootless package management</strong>: This technique allows users to install, update, and manage software packages without requiring superuser (root) permissions. This approach enhances security by minimizing the potential damage malicious or buggy software can inflict on system-wide directories, and offers flexibility by allowing individual users to manage their software in isolated environments.</p></li>
<li><p><strong>Security and privacy</strong>: Ensuring that the software is secure and protects user privacy is becoming increasingly important in today’s interconnected world. This includes applying security and privacy best practices such as encryption, authentication, and authorization, following security standards such as OWASP, and regularly testing for vulnerabilities and threats.</p></li>
<li><p><strong>Professionalism and ethics</strong>: Behaving ethically and professionally, and following industry standards and regulations, is essential for building trust with clients, customers, and the wider community. This includes following ethical principles such as honesty, integrity, and respect, complying with regulations such as GDPR and HIPAA, and adopting industry standards such as ISO 9001 and CMMI.</p></li>
</ul>
<p>While there are other practices that give the <em>full</em> software engineering experience, we think these can be a helpful starting point to ensure success in developing research software (the kind of software you are likely doing if you’re reading about SYCL and oneAPI).</p>
<p>We are going to take a look at some of the more <em>technical</em> aspects of software engineering: testing, documentation, version control, security/privacy (by discouraging unsafe practices, e.g. explicit pointer usage), and professionalism/ethics. As scientific computing is something used to drive scientific progress, we need to write software that users can trust (“trust science”), which results, in part, from taking all possible steps to ensure reliability and reproducibility.</p>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#testing'">¶</a></h2>
<p>Testing is a vast software engineering topic in itself, encompassing various levels—primarily unit testing, integration testing, system testing, and acceptance testing—along with many testing types, techniques, and tactics. For an overview of the subject of testing, please refer to the corresponding <a class="reference external" href="https://en.wikipedia.org/wiki/Software_testing">Wikipedia article</a>.</p>
<p>The main value proposition of <a class="reference external" href="https://en.wikipedia.org/wiki/Test-driven_development">automated unit testing</a> is that it encourages frequent regression testing by making it painless.
During the last two decades, this “test-infected” mindset has gradually entered the mainstream including introductory computer science courses.
We argue that it can benefit and integrate seamlessly with HPC education.</p>
<p>Support for unit testing in C/C++ has improved considerably, and we prefer <a class="reference external" href="https://google.github.io/googletest/">GoogleTest</a> for this purpose.
A typical floating-point correctness test looks like this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">TEST_F</span><span class="p">(</span><span class="n">IntegrationTest</span><span class="p">,</span><span class="w"> </span><span class="n">Simple3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="line-2"><span class="w">    </span><span class="n">EXPECT_NEAR</span><span class="p">(</span><span class="n">single_trapezoid</span><span class="p">(</span><span class="mi">-1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mf">0.5</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">EPS</span><span class="p">);</span>
</span><span id="line-3"><span class="p">}</span>
</span></code></pre></div>
</div>
<p>At the unit testing level, the following techniques are of particular interest:</p>
<ul class="simple">
<li><p>Ad-hoc testing, also called example-based testing, such as the preceding example, where we provide one or more specific test cases, where we programmatically interact with the system under test (SUT) and then examine the result or effect of the interaction.</p></li>
<li><p>Table-based testing, where we provide a table of two or more columns corresponding to arguments and expected results of the function or method under test. This technique allows for a more concise representation of several similar ad-hoc tests.</p></li>
<li><p>Property-based testing, where we express the relationship between arguments and expected results as a universally quantified property. Typically, a property-based testing library automatically generates a certain number of argument and result values based on the property and executes each corresponding test.</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\forall y \in [0, 100] \forall w \in [0, 10] \, trapezoid(-y, +y, w) \leq \epsilon\]</div>
<p>We have covered various aspects of testing in other works, including</p>
<ul class="simple">
<li><p><a class="reference external" href="https://link.springer.com/chapter/10.1007/978-3-319-93109-8_9">Managing Concurrency in Mobile User Interfaces with Examples in Android</a></p></li>
<li><p><a class="reference external" href="https://ecommons.luc.edu/cs_facpubs/230/">Tests as Maintainable Assets via Auto-Generated Spies: A Case Study Involving the Scala Collections Library’s Iterator Trait</a></p></li>
</ul>
</section>
<section id="build-and-configuration-management">
<h2>Build and Configuration Management<a class="headerlink" href="#build-and-configuration-management" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#build-and-configuration-management'">¶</a></h2>
<p>A key portability challenge results from differences across users’ development and production environments, such as different versions of operating systems, compilers, libraries, and other tools.
Among several efforts to abstract away these differences and support building a project on any environment meeting certain minimum criteria, (modern) <a class="reference external" href="https://cmake.org">CMake</a> has emerged as the most painless choice, especially for C/C++-based projects.</p>
<p>CMake enables us to use C/C++ similar to other languages, such as Java, Scala, Python, JavaScript/Node, by managing external library dependencies declaratively and fetching them dynamically.
This encourages parametric thinking and makes it possible to develop adaptable HPC codes.</p>
<p>The following settings consistently ensure a specific language standard:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD</span><span class="w"> </span><span class="s">17</span><span class="p">)</span>
</span><span id="line-2"><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_STANDARD_REQUIRED</span><span class="w"> </span><span class="s">ON</span><span class="p">)</span>
</span><span id="line-3"><span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_EXTENSIONS</span><span class="w"> </span><span class="s">OFF</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>This section is an example of declaring an external dependency that gets included into the build process at source level.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nb">FetchContent_Declare</span><span class="p">(</span>
</span><span id="line-2"><span class="w">        </span><span class="s">fmt</span>
</span><span id="line-3"><span class="w">        </span><span class="s">GIT_REPOSITORY</span><span class="w"> </span><span class="s">https://github.com/fmtlib/fmt.git</span>
</span><span id="line-4"><span class="w">        </span><span class="s">GIT_TAG</span><span class="w">        </span><span class="s">8.1.1</span>
</span><span id="line-5"><span class="p">)</span>
</span><span id="line-6"><span class="nb">FetchContent_MakeAvailable</span><span class="p">(</span><span class="s">fmt</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The external dependencies declared in this way then become available for linking into the executable(s).</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nb">add_executable</span><span class="p">(</span><span class="s">integration</span><span class="w"> </span><span class="s">main.cpp</span><span class="w"> </span><span class="s">f.cpp</span><span class="w"> </span><span class="s">trapezoid.cpp</span><span class="w"> </span><span class="s">timestamps.cpp</span><span class="p">)</span>
</span><span id="line-2"><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">integration</span><span class="w"> </span><span class="s">fmt::fmt</span><span class="w"> </span><span class="s">spdlog::spdlog</span><span class="w"> </span><span class="s">CLI11::CLI11</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>With our CMake build configuration in place, we normally perform the following to steps to configure a debug build:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug<span class="w"> </span>-S<span class="w"> </span>.<span class="w"> </span>-B<span class="w"> </span>build
</span><span id="line-2">cmake<span class="w"> </span>--build<span class="w"> </span>build
</span></code></pre></div>
</div>
<p>For measuring the performance of our code, however, configuring a release build ensures that code optimization is properly enabled:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span>-S<span class="w"> </span>.<span class="w"> </span>-B<span class="w"> </span>build
</span></code></pre></div>
</div>
<p>This is the type of build we use for our performance measurements (see also <a class="reference internal" href="../30-performance/performance.html"><span class="doc">Performance Essentials</span></a>.</p>
</section>
<section id="version-control">
<h2>Version Control<a class="headerlink" href="#version-control" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#version-control'">¶</a></h2>
<p>Version control, especially distributed, hosted services such as GitHub, GitLab, and Bitbucket, are one of the foundations of modern software engineering practice.
Version control allows a development team to keep their code in a secure place and enables collaboration following numerous different models and cultures.</p>
<ul class="simple">
<li><p><strong>Commits/Snapshots</strong>: The essence of version control is recording changes, and commits or snapshots represent these changes. Each commit marks a specific point in a project’s history, allowing developers to revisit or restore to that point if needed.</p></li>
<li><p><strong>Branching and Merging</strong>: These concepts allow for parallel development without interference. Developers can work on new features, bug fixes, or experiments separately from the mainline code and later integrate these changes back. This flexibility is a cornerstone of modern development practices like feature branching and GitFlow.</p></li>
<li><p><strong>Conflict Resolution</strong>: When multiple developers change the same code sections, conflicts arise. Resolving these conflicts correctly is crucial to maintaining code integrity and team collaboration.</p></li>
<li><p><strong>Remote Repositories and Syncing Operations (Pull/Push/Fetch)</strong>: Especially in distributed systems like Git, operations to synchronize local and remote repositories are fundamental. They allow developers to share changes, fetch updates, and collaborate on a shared codebase.</p></li>
<li><p><strong>Hooks and Automation</strong>: Custom scripts or actions that are triggered by repository events, allowing automated tests, builds, or notifications. These steps are usually part of a continuous integration (CI) workflow, as discussed below.</p></li>
</ul>
</section>
<section id="continuous-integration">
<h2>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#continuous-integration'">¶</a></h2>
<p>There are various choices for adding continuous integration to a software project, such as setting up a dedicated server or connecting to an external provider.
Even more conveniently, major hosted version control services already include support for continuous integration.
In practice, automated builds (workflow runs) are triggered every time a project contributor commits changes to the code base.
Such a build automates the steps one would typically perform manually on one’s workstation:</p>
<ul class="simple">
<li><p>starting with a vanilla configuration,</p></li>
<li><p>installing prerequisites to the build,</p></li>
<li><p>checking out the project source code,</p></li>
<li><p>building executable artifacts, and</p></li>
<li><p>running/testing them.</p></li>
</ul>
<p>Starting with a vanilla (default) system configuration ensures that all project dependencies (tools, external libraries, etc.) are fully understood and explicit.
In addition, build automation results in almost immediate feedback on an incorrect commit that “breaks the build”.</p>
<p>We argue that continuous integration can make us reproducibility-aware: A researcher wishing to reproduce the work represented by a particular project can “fork” the project into their own account on, say, GitHub.
The CI workflow then runs on that user’s fork of the project.
This gives us some degree of reproducibility “for free,” subject to limitations in devices available through the actual CI container (i.e., not usually accelerators).</p>
<p>These are the steps of our GitHub Actions CI workflow (see also the full script <a class="reference external" href="https://github.com/LoyolaChicagoCode/unoapi-dpcpp-examples/blob/main/.github/workflows/oneapi-cmake.yml">here</a>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">name:<span class="w"> </span>OneAPI<span class="w"> </span>CI<span class="w"> </span>with<span class="w"> </span>CMake
</span><span id="line-2">
</span><span id="line-3">on:
</span><span id="line-4"><span class="w">  </span>push:
</span><span id="line-5"><span class="w">    </span>branches:<span class="w"> </span><span class="o">[</span><span class="w"> </span>main<span class="w"> </span><span class="o">]</span>
</span><span id="line-6"><span class="w">  </span>pull_request:
</span><span id="line-7"><span class="w">    </span>branches:<span class="w"> </span><span class="o">[</span><span class="w"> </span>main<span class="w"> </span><span class="o">]</span>
</span><span id="line-8">
</span><span id="line-9">jobs:
</span><span id="line-10">
</span><span id="line-11"><span class="w">  </span>linux-intel-oneapi:
</span><span id="line-12"><span class="w">    </span>runs-on:<span class="w"> </span>ubuntu-latest
</span><span id="line-13"><span class="w">    </span>env:
</span><span id="line-14"><span class="w">      </span>BUILD_DIR:<span class="w"> </span>cmake-build-debug
</span><span id="line-15">
</span><span id="line-16"><span class="c1"># UnoAPI:github-workflow-specific:begin</span>
</span><span id="line-17"><span class="w">    </span>steps:
</span><span id="line-18"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>Checkout<span class="w"> </span>project<span class="w"> </span>code
</span><span id="line-19"><span class="w">      </span>uses:<span class="w"> </span>actions/checkout@v2
</span><span id="line-20">
</span><span id="line-21"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>Install<span class="w"> </span>Intel<span class="w"> </span>oneAPI
</span><span id="line-22"><span class="w">      </span>timeout-minutes:<span class="w"> </span><span class="m">5</span>
</span><span id="line-23"><span class="w">      </span>run:<span class="w"> </span><span class="p">|</span>
</span><span id="line-24"><span class="w">        </span>./install-dpcpp.sh
</span><span id="line-25">
</span><span id="line-26"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>Set<span class="w"> </span>oneAPI<span class="w"> </span>environment
</span><span id="line-27"><span class="w">      </span>run:<span class="w"> </span><span class="p">|</span>
</span><span id="line-28"><span class="w">        </span><span class="nb">source</span><span class="w"> </span>./setvars.sh
</span><span id="line-29"><span class="w">        </span>printenv<span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$GITHUB_ENV</span>
</span><span id="line-30"><span class="w">        </span><span class="nb">echo</span><span class="w"> </span>/opt/intel/oneapi/compiler/latest/linux/bin-llvm<span class="w"> </span>&gt;&gt;<span class="w"> </span><span class="nv">$GITHUB_PATH</span>
</span><span id="line-31">
</span><span id="line-32"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>CMake<span class="w"> </span>configure
</span><span id="line-33"><span class="w">      </span>run:<span class="w"> </span>cmake<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug<span class="w"> </span>-S<span class="w"> </span>.<span class="w"> </span>-B<span class="w"> </span><span class="nv">$BUILD_DIR</span>
</span><span id="line-34">
</span><span id="line-35"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>CMake<span class="w"> </span>build
</span><span id="line-36"><span class="w">      </span>run:<span class="w"> </span>cmake<span class="w"> </span>--build<span class="w"> </span><span class="nv">$BUILD_DIR</span>
</span><span id="line-37">
</span><span id="line-38"><span class="w">    </span>-<span class="w"> </span>name:<span class="w"> </span>CMake<span class="w"> </span><span class="nb">test</span>
</span><span id="line-39"><span class="w">      </span>run:<span class="w"> </span><span class="p">|</span>
</span><span id="line-40"><span class="w">        </span><span class="nv">$BUILD_DIR</span>/bin/integration
</span><span id="line-41"><span class="w">        </span><span class="nv">$BUILD_DIR</span>/bin/matrix_mul_dpc
</span><span id="line-42"><span class="w">        </span><span class="nv">$BUILD_DIR</span>/bin/montecarlo
</span><span id="line-43"><span class="w">        </span><span class="c1"># eventually keep only this loop for discovering all tests</span>
</span><span id="line-44"><span class="w">        </span><span class="k">for</span><span class="w"> </span>test_bin<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">$BUILD_DIR</span>/bin/*tests<span class="p">;</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="s2">"./</span><span class="nv">$test_bin</span><span class="s2">"</span><span class="p">;</span><span class="w"> </span><span class="k">done</span>
</span><span id="line-45"><span class="c1"># UnoAPI:github-workflow-specific:end</span>
</span></code></pre></div>
</div>
<p>Automated testing usually takes place as part of the continuous integration process.
Accordingly, the last step of our CI workflow invokes all discovered executable tests.</p>
</section>
<section id="rootless-package-management-for-libraries-and-tools">
<h2>Rootless Package Management for Libraries and Tools<a class="headerlink" href="#rootless-package-management-for-libraries-and-tools" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#rootless-package-management-for-libraries-and-tools'">¶</a></h2>
<p>On publicly accessible HPC clusters, such as Intel’s DevCloud and those run by some national laboratories, users don’t typically have root access (administrative privileges).
This precludes them from using native package management, such as <code class="docutils literal notranslate"><span class="pre">apt</span></code> on Ubuntu, to install missing packages or newer versions of outdated packages.</p>
<p>During the last decade or so, userland package management tools have emerged as a complement to native package management.
These tools, such as Homebrew on MacOS and Linux and Chocolatey on Windows, allow users to install additional packages for their personal use without requiring root access, e.g., a current version of CMake.</p>
<p>Rootless package managers often utilize user-specific directories, such as a user’s home directory, to store and manage libraries and tools, thereby avoiding conflicts and ensuring that software management operations remain user-specific and don’t affect the entire system or other users.</p>
</section>
<section id="additional-references">
<h2>Additional References<a class="headerlink" href="#additional-references" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#additional-references'">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.computer.org/education/bodies-of-knowledge/software-engineering">Software Engineering Book of Knowledge (SWEBOK)</a></p></li>
<li><p><a class="reference external" href="https://www.acm.org/code-of-ethics">ACM Code of Ethics and Professional Conduct</a></p></li>
<li><p><a class="reference external" href="https://www.ieee.org/about/corporate/governance/p7-8.html">IEEE Code of Ethics</a></p></li>
</ul>
</section>
</section>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#testing'" class="reference internal" href="#testing">Testing</a></li>
<li><a :data-current="activeSection === '#build-and-configuration-management'" class="reference internal" href="#build-and-configuration-management">Build and Configuration Management</a></li>
<li><a :data-current="activeSection === '#version-control'" class="reference internal" href="#version-control">Version Control</a></li>
<li><a :data-current="activeSection === '#continuous-integration'" class="reference internal" href="#continuous-integration">Continuous Integration</a></li>
<li><a :data-current="activeSection === '#rootless-package-management-for-libraries-and-tools'" class="reference internal" href="#rootless-package-management-for-libraries-and-tools">Rootless Package Management for Libraries and Tools</a></li>
<li><a :data-current="activeSection === '#additional-references'" class="reference internal" href="#additional-references">Additional References</a></li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2023-Present, George K. Thiruvathukal and Konstantin Läufer Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 7.3.7</a></p>
</div>
</div>
</footer>
</div>
<script src="../_static/documentation_options.js?v=421b0634"></script>
<script src="../_static/doctools.js?v=9a2dae69"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../_static/theme.js?v=e82a16a3"></script>
<script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>